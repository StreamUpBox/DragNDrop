<div class="sidebar">

  <div class="fp-main-sidebar">
    <div class="untoggled-button" *ngIf="isOpen" (click)="toggle()"></div>
    <div class="fp-logo-oval">
      <div class="fp-logo-text">F</div>
    </div>

    <div class="active" *ngIf="defaultBusiness">
      <div class="rectangle"><span class="short-name-a">{{defaultBusiness.name.charAt(0) | uppercase}}</span></div>
    </div>

    <div class="fp-business-icon" *ngFor="let business of businesses; let i = index;"
      (click)="switchBusiness(business)">
      <span class="short-name">{{business.name.charAt(0) | uppercase}}</span>
    </div>


  </div>

  <div class="fp-secondary-sidebar" [@toggleBox]="isOpen ? 'open' : 'closed'" *ngIf="!isOpen">
    <div class="toggled-button" (click)="toggle()"></div>
    <div class="fp-secondary-sidebar-text" *ngIf="defaultBranch">{{defaultBranch.name}} <span class="dropdown-branch"
        (click)="toggleBranches()">v</span></div>
    <div class="list-branches" (click)="hideBranchDropDown()" *ngIf="canViewBranches"
      [@toggleBox]="canViewBranches ? 'open' : 'closed'">
      <div class="list-branch-title"><span class="branch-title-text">Branches</span></div>
      <div class="branch-container">
        <div *ngFor="let branch of branches; let i = index;">
          <div class="list-branch" *ngIf="!branch.active" (click)="switchBranch(branch)">
            <span class="branch-icon">i</span>
            <span class="branch-text">{{branch.name}}</span>
          </div>
        </div>

      </div>
      <div class="add-branch"><span class="add-branch-text" (click)="hideBranchDropDown()">
          <span class="add-branch-icon">i</span>
          <span class="add-branch-text">Create new branch</span>

        </span></div>
    </div>
    <div class="fp-secondary-sidebar-chevron-down">

    </div>
    <div *ngIf="loggedUser">
      <p class="fp-online-user"></p>
      <p class="user-name">
        {{loggedUser.name}}
      </p>
    </div>
    <div class="divider"></div>
    <div class="fp-menu" *ngFor="let menu of menus; let i = index;">

      <div [ngClass]="menu.active?'fp-active-menu':'fp-inactive-menu'" (click)="router(menu)">
        <span class="fp-inactive-menu-icon">i</span>
        <span class="fp-inactive-menu-text">{{menu.name}}</span>
      </div>

    </div>

    <div class="setting" *ngIf="settingMenu">
      <div [ngClass]="settingMenu.active?'fp-active-menu':'fp-inactive-menu'" (click)="router(settingMenu)">
        <span class="fp-inactive-menu-icon">i</span>
        <span class="fp-inactive-menu-text">{{settingMenu.name}}</span>
      </div>
    </div>

  </div>

</div>