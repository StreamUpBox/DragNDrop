<!-- main app container -->
<div class="container1">
  <flipper-header></flipper-header>
  

  <br /> <br />

  <div class="container" fxLayout fxLayout.xs="column" fxLayoutAlign="center" fxLayoutGap="10px" fxLayoutGap.xs="0">
    <div class="" fxFlex="25"></div>
    <div class="container" fxFlex="50">

      <div class="card">
        <div class="card-body">
          <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">


            <div class="grid-2-at-medium grid-row-space-line">
              <div class="col">
                <h3 class="title align-center-at-medium">Let’s create your business.</h3>
                <p class="description align-center-at-medium">Let’s start create your business with basic
                  information.<br>You can always edit these details later.</p>

              </div>
              <div class="col-5">
              <table>
                <tr>
                  <td>
                    <div class="col-5" *ngIf="types$.length > 0">
                      <div class="field-label">
                        <label for="email">Your business type?</label>
                      </div>

                      <select class="select" [formControlName]="'typeId'" #t (change)="getBusinessCategory(t.value)"
                        [class.is-invalid]="submitted && f.typeId.errors">
                        <option *ngFor="let item of types$; let i = index;" [value]="item.id">{{item.name}}</option>
                      </select>
                      <mat-error *ngIf="submitted && f.typeId.errors">
                        <div *ngIf="f.typeId.errors.required">Business type is required</div>
                      </mat-error>

                    </div>
                  </td>
               
                  <td>
                    <div class="col-5" *ngIf="searchCategoryByTypes$.length > 0">
                      <label>Your business category?</label>

                      <select class="select" [formControlName]="'businessCategoryId'"
                        [class.is-invalid]="submitted && f.businessCategoryId.errors">
                        <option *ngFor="let item of searchCategoryByTypes$; let i = index;" [value]="item.id">
                          {{item.name}}</option>
                      </select>
                      <mat-error *ngIf="submitted && f.businessCategoryId.errors">
                        <div *ngIf="f.businessCategoryId.errors.required">Business category is required</div>
                      </mat-error>

                    </div>
                  </td>
                </tr>
              </table>

              </div>

                <div class="col-5">
                  <label>Business name</label>
                  <input class="input" type="text" [formControlName]="'name'"
                    [class.is-invalid]="submitted && f.name.errors" />

                  <mat-error *ngIf="submitted && f.name.errors">
                    <div *ngIf="f.name.errors.required">Business name is required</div>
                  </mat-error>

                </div>

                <div class=" col-5">
                  <label>Currency</label>

                  <select class="select" [formControlName]="'currency'"
                    [class.is-invalid]="submitted && f.currency.errors">
                    <option *ngFor="let cy of currencies; let i = index;" [value]="cy.symbol"> {{cy.name}}</option>

                  </select>

                  <mat-error *ngIf="submitted && f.currency.errors">
                    <div *ngIf="f.currency.errors.required">Currency is required</div>
                  </mat-error>
                </div>

                <div class=" col-5">
                  <label>Country</label>

                  <select class="select" [formControlName]="'country'"
                    [class.is-invalid]="submitted && f.country.errors">
                    <option *ngFor="let cc of countries" [value]="cc"> {{cc}}</option>

                  </select>

                  <mat-error *ngIf="submitted && f.country.errors">
                    <div *ngIf="f.country.errors.required">Country is required</div>
                  </mat-error>

                </div>

                <div class=" col-5">
                  <label>Timezone(utc)</label>

                  <select class="select" [formControlName]="'timeZone'"
                    [class.is-invalid]="submitted && f.timeZone.errors">
                    <option *ngFor="let z of timezones" [value]="z.utc && z.utc.length > 0?z.utc[0]:''"> {{z.value}} -
                      {{z.text}}</option>

                  </select>

                  <mat-error *ngIf="submitted && f.timeZone.errors">
                    <div *ngIf="f.timeZone.errors.required">time zone is required</div>
                  </mat-error>

                </div>

                <div class="col-5">
                  <button class="button expand">Continue</button>
                </div>

            </div>



          </form>
        </div>
      </div>
    </div>

    <div class="item item-3" fxFlex="25">

    </div>
  </div>
</div>
